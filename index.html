<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="asset/style.css"/>
  <title>Overview</title>

  <script src="js/data/time/timegregorian.js"></script>
  <script src="js/data/moon/overviewmoon.js"></script>
  <script src="js/lib/suncalc.js"></script>
  <script src="js/data/sun/suncalcwrapper.js"></script>
  <script src="js/data/tide/stormglasswrapper.js"></script>

  <script src="js/draw/drawshared.js"></script>
  <script src="js/draw/drawsun.js"></script>
  <script src="js/draw/drawsunlight.js"></script>
  <script src="js/draw/drawearth.js"></script>
  <script src="js/draw/drawmoon.js"></script>
  <script src="js/draw/drawtide.js"></script>

  <script src="js/getlocation.js"></script>
  <script src="js/state.js"></script>
  <script src="js/settings.js"></script>
  <script src="js/settingsCheckbox.js"></script>
  <script src="js/settingsText.js"></script>
  <script src="js/input.js"></script>
  <script src="js/overview.js"></script>
</head>
<body>  
  <div class="overview-buttonContainer" id="settingsContainer">
    <button class="overview-button" id="btn-location">Location</button>
  </div>

  <script type="text/javascript">
    var settings = new Settings();
    settings.setup(document.getElementById("settingsContainer"));

    var overview = new Overview();
    overview.setData(new TimeGregorian(new Date()), new OverviewMoon(), new SunCalcWrapper(), new StormglassWrapper());
    overview.display();
    overview.startUpdateLoop();

    var input = new Input(overview.canvas);

    var state = new State();
    state.setup(input);
    
    settings.setupState(state);

    overview.canvas.addEventListener("changeValue", function (e)
    {
      overview.changeValue(e.detail);
    });

    var getlocation = new GetLocation();
    getlocation.setup();
  </script>
</body>
</html>